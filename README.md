# Earth-Moon-Orbits
## Explanation
Based on a university project written in my second year, this is a simulation of a spacecraft orbiting around the Earth and Moon. Using the fourth order Runge-Kutte method, a 2-D model of the Earth, Moon and spacecraft is produced to iteratively calculate forces acting on massless bodies (ie. the spacecraft) via solving the accelaration differential equations numerically. X and Y coordinates are used to find the gravitational forces acting on the massless bodies (massive bodies are currently in a fixed position in the model) before the forces are combined with cartesian velocities in "K vectors" to estimate accelerations at different points within a single iteration. These are combined and weighted to find new position and velocity values.

Earth collision from low Earth orbit             |  Earth orbit             |  Earth and Moon orbit
:-------------------------:|:-------------------------:|:-------------------------:
<img src="/readme_pics/Low earth orbit crash.png" />  |  <img src="/readme_pics/Elliptical earth orbit.png" />  |  <img src="/readme_pics/Figure of eight moon orbit.png" />

## Implementation
Within the model, there are two major classes - the "Simulation" class and the "MasslessObject" class (there is also a third unimplemented "MassiveObject" class which is a child class of the massless object).

The "MasslessObject" class creates a object representing a body with negligible mass on astronomical scales. This object can produce a list of the coordinates which it has occupied, calculate the distance between itself and another point, find the forces acting on it from massive bodies and, most importantly, calculate its future position and velocity after the next iteration (which covers a single timestep decided by the user). This last feature is found using the Runge-Kutta fourth order iterative method.

In the "Simulation" class runs the overall simulation, first asking for user input parameters before generating the bodies used in the model (the user can add their own massive objects if they wish and have to choose the bodies they want generated other than the Earth). Once the input constraints are satisfied (ie. not setting anything to be faster than light), the user inputs (in polar coordinates) are converted to cartesian and the spacecraft created. The simulation is then ran over the selected time frame until either the full time has been simulated or there is a collision. This is then plotted and output as a graph.

## Future possible features
- **Adaptive Runge-Kutta** - The current method uses a constant step-size for the entirety of the orbit. When forces are high (like when approching close to a massive body), a small step size is neccesary for a reliable calculation of the next iteration. Since we need this level of accuracy at some points, we must use the same small step size at all point of orbit - even when forces are low. This means that for large portions of the spacecraft orbit, more iterations are taken than neccesary for an accurate model, reducing efficiency. Implementing adaptive Runge-kutta would address this, using an adaptive step-size so that a minimum number of iterations are used.
- **3D model** - Expanding the model into the third dimension should be relatively straightforward as most of the calculations remain similar with an added z component (although it would be harder to represet graphically).
- **Non-stationary massive bodies** - Introduction of moving massive bodies would make the simulation more realistic while also introducing problems. First and foremost, needing to calculate positions for even more bodies would add to the time taken to run the simulation. However, this is a side-issue compared to some of the other problems which could be encountered. The massless body forces are currently calculated assuming stationary massive bodies - since the force acting on a massless body would change in the duration of a single iteration (as the massive body is now moving), this would introduce inaccuracy within the model unless some kind of average position were assumed for the massive body when calcutaing the force acting on the massless one. 
